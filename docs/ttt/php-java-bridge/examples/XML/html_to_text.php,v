head	1.7;
access;
symbols
	Release-7-1-1:1.7.0.72
	Root_Release-7-1-1:1.7
	Root_Release_7-0-1:1.7
	Release_7-0-1:1.7.0.70
	Release_7-0-0:1.7.0.68
	Root_Release_7-0-0:1.7
	Release-6-2-2:1.7.0.66
	Release-6-1-2-3:1.7
	Root_Release-6-1-2-3:1.7
	Release-6-1-2-2:1.7.0.64
	Root_Release-6-1-2-2:1.7
	debian_version_6_1_2_1-1:1.7
	upstream_version_6_1_2_1:1.7
	Release-6-1-2-1_new:1.7.0.62
	Root_Release-6-1-2-1_new:1.7
	Release-6-1-2-1:1.7.0.60
	Root_Release-6-1-2-1:1.7
	upstream_version_6_1_2:1.7
	debian_version_6_1_2-1:1.7
	Release-6-1-2:1.7.0.58
	Root_Release-6-1-2:1.7
	debian_version_6_1_1-2:1.7
	debian_version_6_1_1-1:1.7
	upstream_version_6_1_1:1.7
	Release-6-1-1:1.7.0.56
	Root_Release-6-1-1:1.7
	Release-6-0-4:1.7.0.54
	Root_Release-6-0-4:1.7
	Release-6-0-3_NEW:1.7.0.50
	Root_Release-6-0-3_NEW:1.7
	Release-6-0-3:1.7.0.52
	Root_Release-6-0-3:1.7
	Release-6-0-0:1.7.0.48
	Root_Release-6-0-0:1.7
	Release-5-5-4-1:1.7.0.46
	Root_Release-5-5-4-1:1.7
	Release-5-5-4:1.7.0.44
	Root_Release-5-5-4:1.7
	Release-5-5-3:1.7.0.42
	ROOT_Release-5-5-3:1.7
	Release-5-5-2:1.7.0.40
	Root_Release-5-5-2:1.7
	debian_version_5_5_1-1:1.7
	Release-5-5-1:1.7.0.36
	upstream_version_5_5_1:1.7
	ROOT_Release-5-5-1:1.7
	debian_version_5_5-1:1.7
	upstream_version_5_5:1.7
	ROOT_Release-5-5:1.7
	Release-5-5:1.7.0.38
	debian_version_5_4_4_2-3:1.7
	Release-5-4-4-2-1:1.7.0.32
	debian_version_5_4_4_2-2:1.7
	debian_version_5_4_4_2-1:1.7
	upstream_version_5_4_4_2:1.7
	debian_version_5_4_4_1-1:1.7
	upstream_version_5_4_4_1:1.7
	debian_version_5_4_4-1:1.7
	upstream_version_5_4_4:1.7
	Release-5-4-4:1.7.0.34
	Root_Release-5-4-4:1.7
	debian_version_5_4_3_2-1:1.7
	upstream_version_5_4_3_2:1.7
	Release_5-4-3-2:1.7.0.30
	Root_Release_5-4-3-2:1.7
	upstream_version_5_4_3_1:1.7
	debian_version_5_4_3_1-1:1.7
	Release-5-4-3:1.7.0.28
	Root_Release-5-4-3:1.7
	Root_Release-5-4-1:1.7
	Release-5-4-1:1.7.0.26
	Root_Release-5-4:1.7
	Release-5-4:1.7.0.24
	upstream_version_5_3_4:1.7
	debian_version_5_3_4-1:1.7
	ROOT_Release-5-3-4:1.7
	Release-5-3-4:1.7.0.22
	ROOT_Release-5-3-3:1.7
	Release-5-3-3:1.7.0.18
	debian_version_5_3_2_1_2-1:1.7
	upstream_version_5_3_2_1_2:1.7
	debian_version_5_3_2_1_1-1:1.7
	debian_version_5_3_2_1_1:1.7
	upstream_version_5_3_2_1_1:1.7
	Root_Release-5-3-2-1:1.7
	Release-5-3-2-1:1.7
	ROOT_RELEASE-5-3-2-1:1.7
	RELEASE-5-3-2-1:1.7.0.20
	Release-5-3-2:1.7.0.16
	Root_Release-5-3-2:1.7
	Root_Release-5-3-1:1.7
	Release-5-3-1:1.7.0.14
	Release-5-2-3-1:1.7.0.12
	Root_Release-5-2-3-1:1.7
	Release-5-2-2-4:1.7.0.10
	Root_Release-5-2-2-4:1.7
	Release-5-2-2-1:1.7.0.8
	Root_Release-5-2-2-1:1.7
	upstream_version_5_2_2:1.7
	debian_version_5_2_2-1:1.7
	Release-5-2-2:1.7.0.6
	ROOT_Release-5-2-2:1.7
	ROOT_Release-5-2-1:1.7
	Release-5-2-1:1.7.0.4
	Release-5-2-0:1.7.0.2
	ROOT_Release-5-2-0:1.7
	ROOT_Release-5-1-2:1.6
	Release-5-1-2:1.6.0.24
	Version-5-1-1:1.6.0.22
	ROOT_Version-5-1-1:1.6
	debian_version_5_1_0-1:1.6
	upstream_version_5_1_0:1.6
	ROOT_Release-5-1-0:1.6
	Release-5-1-0:1.6.0.20
	ROOT_Release-5-0-0:1.6
	Release-5-0-0:1.6.0.18
	Release-4-3-3:1.6.0.16
	ROOT_Release-4-3-3:1.6
	upstream_version_4_3_2:1.6
	debian_version_4_3_2-1:1.6
	ROOT_Release-4-3-2:1.6
	Release-4-3-2:1.6.0.14
	Release-4-3-1:1.6.0.12
	ROOT_Release-4-3-1:1.6
	debian_version_4_3_0-1:1.6
	upstream_version_4_3_0:1.6
	ROOT_Release-4-3-0:1.6
	Release-4-3-0:1.6.0.10
	debian_version_3_2_1b-2:1.5
	debian_version_4_2_2-1:1.6
	upstream_version_4_2_2:1.6
	debian_version_3_2_1b-1:1.5
	upstream_version_3_2_1b:1.5
	Release-4-1-2:1.6.0.8
	Release-4-0-8:1.6.0.6
	debian_version_4_0_8a-1:1.6
	upstream_version_4_0_8a:1.6
	jostb-debian-ubuntu-patch:1.6.0.4
	debian_version_4_0_8-1:1.6
	upstream_version_4_0_8:1.6
	debian_version_4_0_7-1:1.6
	upstream_version_4_0_7:1.6
	debian_version_4_0_6-1:1.6
	upstream_version_4_0_6:1.6
	debian_version_4_0_2-1:1.6
	upstream_version_4_0_2:1.6
	Release-4-0-2_Root:1.6
	Release-4-0-2:1.6.0.2
	upstream_version_4_0_1:1.6
	debian_version_4_0_1-2:1.6
	Release-3-2-1:1.5.0.4
	Release-3-1-8:1.5.0.2
	Release-3-0-8_root:1.3
	Release-3-0-8_Root:1.3
	Release-3-0-8:1.3.0.2
	Release-2-0-8:1.3.0.4;
locks; strict;
comment	@# @;


1.7
date	2008.03.02.21.36.51;	author jost_boekemeier;	state Exp;
branches;
next	1.6;

1.6
date	2007.03.09.20.28.08;	author andremachado;	state Exp;
branches;
next	1.5;

1.5
date	2006.08.21.17.41.52;	author jost2345;	state Exp;
branches;
next	1.4;

1.4
date	2006.06.19.20.37.15;	author jost2345;	state Exp;
branches;
next	1.3;

1.3
date	2005.09.01.20.58.24;	author jost2345;	state Exp;
branches;
next	1.2;

1.2
date	2005.08.29.16.10.10;	author jost2345;	state Exp;
branches;
next	1.1;

1.1
date	2005.08.11.18.12.03;	author jost2345;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Release-5-2-0
@
text
@#!/usr/bin/php

<?php

require_once ("java/Java.inc");

class HandlerBase {
  function resolveEntity ($publicId, $systemId) 
  {
    return null;
  }
    
  function notationDecl ($name, $publicId, $systemId)
  {
  }
    
  function unparsedEntityDecl ($name, $publicId, $systemId, $notationName)
  {
  }
    
  function setDocumentLocator ($locator)
  {
  }
    
  function startDocument ()
  {
    echo "\n";
  }

  function endDocument ()
  {
    echo "\n";
  }
  function startElement ($name, $attributes) 
  {
    echo "[";
  }

  function endElement ($name)
  {
    echo "]";
  }
    
  function characters ($chars, $start, $length)
  {
    $s = new java("java.lang.String", $chars, $start, $length);
    echo java_values($s);
  }
  function ignorableWhitespace ($chars, $start, $length)
  {
    $s = new java("java.lang.String", $chars, $start, $length);
    echo java_values($s);
  }

  function processingInstruction ($target, $data)
  {
  }
    
    
  function warning ($e)
  {
    echo "callback warning called with args $e<br>\n";
  }
    
  function error ($e)
  {
    echo "callback error called with args $e<br>\n";
  }
    
  function fatalError ($e)
  {
    echo "callback fatalError called with args $e<br>\n";
    //throw $e;
  }
}

// The interfaces that our HandlerBase implements
function getInterfaces() {
  return array(new JavaClass("org.xml.sax.EntityResolver"),
	       new JavaClass("org.xml.sax.DTDHandler"),
	       new JavaClass("org.xml.sax.DocumentHandler"),
	       new JavaClass("org.xml.sax.ErrorHandler"));
}

// Create an instance of HandlerBase which implements the above
// interfaces.
function createHandler() {
  return java_closure(new HandlerBase(), null, getInterfaces());
}

// Standard SAX handling
$ParserFactory=new JavaClass("javax.xml.parsers.SAXParserFactory");
$parser=$ParserFactory->newInstance()->newSaxParser()->getParser();

$handler=createHandler();
$parser->setDocumentHandler($handler);
$parser->setErrorHandler($handler);

$parser->setFeature("http://apache.org/xml/features/validation/schema", false);
$parser->setFeature("http://xml.org/sax/features/namespaces", false);
$parser->setFeature("http://xml.org/sax/features/validation", false);
$parser->setFeature("http://xml.org/sax/features/namespace-prefixes", false);
$parser->setFeature("http://apache.org/xml/features/validation/schema-full-checking", false);

// capture the HTML output of phpinfo ..
// ob_start();
// phpinfo();
// $in = new java("java.io.ByteArrayInputStream", ob_get_contents());
// ob_end_clean();
$here=getcwd();
$in = new java("java.io.FileInputStream", "$here/phpinfo.xml");

// and filter it through the above callbacks
$inputSource=new java("org.xml.sax.InputSource", "$here/DTD");
$inputSource->setByteStream($in);
$parser->parse($inputSource);

?>
@


1.6
log
@Files update 3.2.2 to 4.0.1. Extracted from the src.tar.gz downloaded from sf.net, uploaded by Jost Boekemeier. Update to repository by Andre Felipe Machado.
@
text
@d5 1
a5 6
if (!extension_loaded('java')) {
  if (!(require_once("http://127.0.0.1:8080/JavaBridge/java/Java.inc"))) {
    echo "java extension not installed.";
    exit(2);
  }
}
@


1.5
log
@Release-3-1-8devel1
@
text
@d6 1
a6 1
  if (!(include_once("java/Java.php"))&&!(PHP_SHLIB_SUFFIX=="so" && dl('java.so'))&&!(PHP_SHLIB_SUFFIX=="dll" && dl('php_java.dll'))) {
d52 1
a52 1
    echo "$s";
d57 1
a57 1
    echo "$s";
@


1.4
log
@Release-3-1-0
@
text
@d6 1
a6 1
  if (!(PHP_SHLIB_SUFFIX=="so" && dl('java.so'))&&!(PHP_SHLIB_SUFFIX=="dll" && dl('php_java.dll'))) {
@


1.3
log
@2.0.8RC1 fixes PR1276889, 1275899, 1274526, 1202896
@
text
@d52 1
a52 1
    echo $s->toString();
d57 1
a57 1
    echo $s->toString();
@


1.2
log
@Release-2.0.8RC
@
text
@d115 1
a118 1
$here=getcwd();
@


1.1
log
@Release-2.0.8-preview
@
text
@d111 5
a115 4
ob_start();
phpinfo();
$in = new java("java.io.ByteArrayInputStream", ob_get_contents());
ob_end_clean();
@

