head	1.5;
access;
symbols
	Release-7-1-1:1.5.0.54
	Root_Release-7-1-1:1.5
	Root_Release_7-0-1:1.5
	Release_7-0-1:1.5.0.52
	Release_7-0-0:1.5.0.50
	Root_Release_7-0-0:1.5
	Release-6-2-2:1.5.0.48
	Release-6-1-2-3:1.5
	Root_Release-6-1-2-3:1.5
	Release-6-1-2-2:1.5.0.46
	Root_Release-6-1-2-2:1.5
	debian_version_6_1_2_1-1:1.5
	upstream_version_6_1_2_1:1.5
	Release-6-1-2-1_new:1.5.0.44
	Root_Release-6-1-2-1_new:1.5
	Release-6-1-2-1:1.5.0.42
	Root_Release-6-1-2-1:1.5
	upstream_version_6_1_2:1.5
	debian_version_6_1_2-1:1.5
	Release-6-1-2:1.5.0.40
	Root_Release-6-1-2:1.5
	debian_version_6_1_1-2:1.5
	debian_version_6_1_1-1:1.5
	upstream_version_6_1_1:1.5
	Release-6-1-1:1.5.0.38
	Root_Release-6-1-1:1.5
	Release-6-0-4:1.5.0.36
	Root_Release-6-0-4:1.5
	Release-6-0-3_NEW:1.5.0.32
	Root_Release-6-0-3_NEW:1.5
	Release-6-0-3:1.5.0.34
	Root_Release-6-0-3:1.5
	Release-6-0-0:1.5.0.30
	Root_Release-6-0-0:1.5
	Release-5-5-4-1:1.5.0.28
	Root_Release-5-5-4-1:1.5
	Release-5-5-4:1.5.0.26
	Root_Release-5-5-4:1.5
	Release-5-5-3:1.5.0.24
	ROOT_Release-5-5-3:1.5
	Release-5-5-2:1.5.0.22
	Root_Release-5-5-2:1.5
	debian_version_5_5_1-1:1.5
	Release-5-5-1:1.5.0.18
	upstream_version_5_5_1:1.5
	ROOT_Release-5-5-1:1.5
	debian_version_5_5-1:1.5
	upstream_version_5_5:1.5
	ROOT_Release-5-5:1.5
	Release-5-5:1.5.0.20
	debian_version_5_4_4_2-3:1.5
	Release-5-4-4-2-1:1.5.0.14
	debian_version_5_4_4_2-2:1.5
	debian_version_5_4_4_2-1:1.5
	upstream_version_5_4_4_2:1.5
	debian_version_5_4_4_1-1:1.5
	upstream_version_5_4_4_1:1.5
	debian_version_5_4_4-1:1.5
	upstream_version_5_4_4:1.5
	Release-5-4-4:1.5.0.16
	Root_Release-5-4-4:1.5
	debian_version_5_4_3_2-1:1.5
	upstream_version_5_4_3_2:1.5
	Release_5-4-3-2:1.5.0.12
	Root_Release_5-4-3-2:1.5
	upstream_version_5_4_3_1:1.5
	debian_version_5_4_3_1-1:1.5
	Release-5-4-3:1.5.0.10
	Root_Release-5-4-3:1.5
	Root_Release-5-4-1:1.5
	Release-5-4-1:1.5.0.8
	Root_Release-5-4:1.5
	Release-5-4:1.5.0.6
	upstream_version_5_3_4:1.5
	debian_version_5_3_4-1:1.5
	ROOT_Release-5-3-4:1.5
	Release-5-3-4:1.5.0.4
	ROOT_Release-5-3-3:1.5
	Release-5-3-3:1.5.0.2
	debian_version_5_3_2_1_2-1:1.4
	upstream_version_5_3_2_1_2:1.4
	debian_version_5_3_2_1_1-1:1.4
	debian_version_5_3_2_1_1:1.4
	upstream_version_5_3_2_1_1:1.4
	Root_Release-5-3-2-1:1.4
	Release-5-3-2-1:1.4
	ROOT_RELEASE-5-3-2-1:1.4
	RELEASE-5-3-2-1:1.4.0.20
	Release-5-3-2:1.4.0.16
	Root_Release-5-3-2:1.4
	Root_Release-5-3-1:1.4
	Release-5-3-1:1.4.0.14
	Release-5-2-3-1:1.4.0.12
	Root_Release-5-2-3-1:1.4
	Release-5-2-2-4:1.4.0.10
	Root_Release-5-2-2-4:1.4
	Release-5-2-2-1:1.4.0.8
	Root_Release-5-2-2-1:1.4
	upstream_version_5_2_2:1.4
	debian_version_5_2_2-1:1.4
	Release-5-2-2:1.4.0.6
	ROOT_Release-5-2-2:1.4
	ROOT_Release-5-2-1:1.4
	Release-5-2-1:1.4.0.4
	Release-5-2-0:1.4.0.2
	ROOT_Release-5-2-0:1.4
	ROOT_Release-5-1-2:1.3
	Release-5-1-2:1.3.0.24
	Version-5-1-1:1.3.0.22
	ROOT_Version-5-1-1:1.3
	debian_version_5_1_0-1:1.3
	upstream_version_5_1_0:1.3
	ROOT_Release-5-1-0:1.3
	Release-5-1-0:1.3.0.20
	ROOT_Release-5-0-0:1.3
	Release-5-0-0:1.3.0.18
	Release-4-3-3:1.3.0.16
	ROOT_Release-4-3-3:1.3
	upstream_version_4_3_2:1.3
	debian_version_4_3_2-1:1.3
	ROOT_Release-4-3-2:1.3
	Release-4-3-2:1.3.0.14
	Release-4-3-1:1.3.0.12
	ROOT_Release-4-3-1:1.3
	debian_version_4_3_0-1:1.3
	upstream_version_4_3_0:1.3
	ROOT_Release-4-3-0:1.3
	Release-4-3-0:1.3.0.10
	debian_version_3_2_1b-2:1.2
	debian_version_4_2_2-1:1.3
	upstream_version_4_2_2:1.3
	debian_version_3_2_1b-1:1.2
	upstream_version_3_2_1b:1.2
	Release-4-1-2:1.3.0.8
	Release-4-0-8:1.3.0.6
	debian_version_4_0_8a-1:1.3
	upstream_version_4_0_8a:1.3
	jostb-debian-ubuntu-patch:1.3.0.4
	debian_version_4_0_8-1:1.3
	upstream_version_4_0_8:1.3
	debian_version_4_0_7-1:1.3
	upstream_version_4_0_7:1.3
	debian_version_4_0_6-1:1.3
	upstream_version_4_0_6:1.3
	debian_version_4_0_2-1:1.3
	upstream_version_4_0_2:1.3
	Release-4-0-2_Root:1.3
	Release-4-0-2:1.3.0.2
	upstream_version_4_0_1:1.3
	debian_version_4_0_1-2:1.3
	Release-3-2-1:1.2.0.4
	Release-3-1-8:1.2.0.2
	Release-3-0-8_root:1.1
	Release-3-0-8_Root:1.1
	Release-3-0-8:1.1.0.2;
locks; strict;
comment	@# @;


1.5
date	2008.11.06.20.16.23;	author jost_boekemeier;	state Exp;
branches;
next	1.4;

1.4
date	2008.03.02.21.36.52;	author jost_boekemeier;	state Exp;
branches;
next	1.3;

1.3
date	2007.03.09.20.28.09;	author andremachado;	state Exp;
branches;
next	1.2;

1.2
date	2006.08.21.17.41.52;	author jost2345;	state Exp;
branches;
next	1.1;

1.1
date	2006.03.18.18.56.41;	author jost2345;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Apache/IIS and JSR 223 integration
@
text
@#!/usr/bin/php

<?php

require_once ("java/Java.inc");
ini_set("max_execution_time", 0);

$n=200000;
$Sys = new JavaClass("java.lang.System");
$a1 = array();
for($i=0; $i<$n; $i++) {
  $a1[$i]=$i;
}
$Sys->gc();
$t1 = java_values($Sys->currentTimeMillis());
$v = new java("java.util.LinkedList", $a1);
$t2 = java_values($Sys->currentTimeMillis());
$T1 = $t2-$t1;

$Sys->gc();
$t1 = java_values($Sys->currentTimeMillis());
$v = new java("java.util.HashMap", $a1);
$t2 = java_values($Sys->currentTimeMillis());
$T2 = $t2-$t1;

$Arrays=new JavaClass("java.util.Arrays");
$Sys->gc();
$t1 = java_values($Sys->currentTimeMillis());
$v = $Arrays->asList($a1);
$t2 = java_values($Sys->currentTimeMillis());
$T3 = $t2-$t1;

$Sys->gc();
$t1 = java_values($Sys->currentTimeMillis());
java_begin_document();
$v = new java("java.util.LinkedList");
for($i=0; $i<$n; $i++) {
  $v->add($i, $i);
}
java_end_document();
$t2 = java_values($Sys->currentTimeMillis());
$T4 = $t2-$t1;

$Sys->gc();
$t1 = java_values($Sys->currentTimeMillis());
java_begin_document();
$v = new java("java.util.HashMap");
for($i=0; $i<$n; $i++) {
  $v->put($i, $i);
}
java_end_document();
$t2 = java_values($Sys->currentTimeMillis());
$T5 = $t2-$t1;

$Sys->gc();
$t1 = java_values($Sys->currentTimeMillis());
java_begin_document();
$Array = new JavaClass("java.lang.reflect.Array");
$ar=$Array->newInstance(new JavaClass("java.lang.Integer"), $n);
for($i=0; $i<$n; $i++) {
  $Array->set($ar, $i, $i);
}
java_end_document();
$t2 = java_values($Sys->currentTimeMillis());
$T6 = $t2-$t1;

$s="";
for($i=0; $i<$n; $i++) {
  $s.=$i;
}
$Sys->gc();
$t1 = java_values($Sys->currentTimeMillis());
$str = new java("java.lang.String", $s);
$t2 = java_values($Sys->currentTimeMillis());
$T7 = $t2-$t1;



echo "Time needed to send $n values to the server.\n";
echo "constructor : LinkedList: $T1 ms, HashMap: $T2 ms, Array: $T3 ms\n";
echo "invocations : LinkedList: $T4 ms, HashMap: $T5 ms, Array: $T6 ms\n";
echo "Sending a {$str->length()} length string: $T7 ms\n";
?>

@


1.4
log
@Release-5-2-0
@
text
@d6 1
d15 1
a15 1
$t1 = $Sys->currentTimeMillis();
d17 1
a17 1
$t2 = $Sys->currentTimeMillis();
d21 1
a21 1
$t1 = $Sys->currentTimeMillis();
d23 1
a23 1
$t2 = $Sys->currentTimeMillis();
d28 1
a28 1
$t1 = $Sys->currentTimeMillis();
d30 1
a30 1
$t2 = $Sys->currentTimeMillis();
d34 1
a34 1
$t1 = $Sys->currentTimeMillis();
d41 1
a41 1
$t2 = $Sys->currentTimeMillis();
d45 1
a45 1
$t1 = $Sys->currentTimeMillis();
d52 1
a52 1
$t2 = $Sys->currentTimeMillis();
d56 1
a56 1
$t1 = $Sys->currentTimeMillis();
d64 1
a64 1
$t2 = $Sys->currentTimeMillis();
d72 1
a72 1
$t1 = $Sys->currentTimeMillis();
d74 1
a74 1
$t2 = $Sys->currentTimeMillis();
@


1.3
log
@Files update 3.2.2 to 4.0.1. Extracted from the src.tar.gz downloaded from sf.net, uploaded by Jost Boekemeier. Update to repository by Andre Felipe Machado.
@
text
@d5 1
a5 6
if (!extension_loaded('java')) {
  if (!(require_once("http://127.0.0.1:8080/JavaBridge/java/Java.inc"))) {
    echo "java extension not installed.";
    exit(2);
  }
}
@


1.2
log
@Release-3-1-8devel1
@
text
@d6 1
a6 1
  if (!(include_once("java/Java.php"))&&!(PHP_SHLIB_SUFFIX=="so" && dl('java.so'))&&!(PHP_SHLIB_SUFFIX=="dll" && dl('php_java.dll'))) {
@


1.1
log
@Release-3.0.8test1
@
text
@d6 1
a6 1
  if (!(PHP_SHLIB_SUFFIX=="so" && dl('java.so'))&&!(PHP_SHLIB_SUFFIX=="dll" && dl('php_java.dll'))) {
@

