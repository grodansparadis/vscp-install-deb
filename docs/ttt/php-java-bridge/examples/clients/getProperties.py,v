head	1.5;
access;
symbols
	Release-7-1-1:1.5.0.52
	Root_Release-7-1-1:1.5
	Root_Release_7-0-1:1.5
	Release_7-0-1:1.5.0.50
	Release_7-0-0:1.5.0.48
	Root_Release_7-0-0:1.5
	Release-6-2-2:1.5.0.46
	Release-6-1-2-3:1.5
	Root_Release-6-1-2-3:1.5
	Release-6-1-2-2:1.5.0.44
	Root_Release-6-1-2-2:1.5
	debian_version_6_1_2_1-1:1.5
	upstream_version_6_1_2_1:1.5
	Release-6-1-2-1_new:1.5.0.42
	Root_Release-6-1-2-1_new:1.5
	Release-6-1-2-1:1.5.0.40
	Root_Release-6-1-2-1:1.5
	upstream_version_6_1_2:1.5
	debian_version_6_1_2-1:1.5
	Release-6-1-2:1.5.0.38
	Root_Release-6-1-2:1.5
	debian_version_6_1_1-2:1.5
	debian_version_6_1_1-1:1.5
	upstream_version_6_1_1:1.5
	Release-6-1-1:1.5.0.36
	Root_Release-6-1-1:1.5
	Release-6-0-4:1.5.0.34
	Root_Release-6-0-4:1.5
	Release-6-0-3_NEW:1.5.0.30
	Root_Release-6-0-3_NEW:1.5
	Release-6-0-3:1.5.0.32
	Root_Release-6-0-3:1.5
	Release-6-0-0:1.5.0.28
	Root_Release-6-0-0:1.5
	Release-5-5-4-1:1.5.0.26
	Root_Release-5-5-4-1:1.5
	Release-5-5-4:1.5.0.24
	Root_Release-5-5-4:1.5
	Release-5-5-3:1.5.0.22
	ROOT_Release-5-5-3:1.5
	Release-5-5-2:1.5.0.20
	Root_Release-5-5-2:1.5
	debian_version_5_5_1-1:1.5
	Release-5-5-1:1.5.0.16
	upstream_version_5_5_1:1.5
	ROOT_Release-5-5-1:1.5
	debian_version_5_5-1:1.5
	upstream_version_5_5:1.5
	ROOT_Release-5-5:1.5
	Release-5-5:1.5.0.18
	debian_version_5_4_4_2-3:1.5
	Release-5-4-4-2-1:1.5.0.12
	debian_version_5_4_4_2-2:1.5
	debian_version_5_4_4_2-1:1.5
	upstream_version_5_4_4_2:1.5
	debian_version_5_4_4_1-1:1.5
	upstream_version_5_4_4_1:1.5
	debian_version_5_4_4-1:1.5
	upstream_version_5_4_4:1.5
	Release-5-4-4:1.5.0.14
	Root_Release-5-4-4:1.5
	debian_version_5_4_3_2-1:1.5
	upstream_version_5_4_3_2:1.5
	Release_5-4-3-2:1.5.0.10
	Root_Release_5-4-3-2:1.5
	upstream_version_5_4_3_1:1.5
	debian_version_5_4_3_1-1:1.5
	Release-5-4-3:1.5.0.8
	Root_Release-5-4-3:1.5
	Root_Release-5-4-1:1.5
	Release-5-4-1:1.5.0.6
	Root_Release-5-4:1.5
	Release-5-4:1.5.0.4
	upstream_version_5_3_4:1.5
	debian_version_5_3_4-1:1.5
	ROOT_Release-5-3-4:1.5
	Release-5-3-4:1.5.0.2
	ROOT_Release-5-3-3:1.4
	Release-5-3-3:1.4.0.48
	debian_version_5_3_2_1_2-1:1.4
	upstream_version_5_3_2_1_2:1.4
	debian_version_5_3_2_1_1-1:1.4
	debian_version_5_3_2_1_1:1.4
	upstream_version_5_3_2_1_1:1.4
	Root_Release-5-3-2-1:1.4
	Release-5-3-2-1:1.4
	ROOT_RELEASE-5-3-2-1:1.4
	RELEASE-5-3-2-1:1.4.0.50
	Release-5-3-2:1.4.0.46
	Root_Release-5-3-2:1.4
	Root_Release-5-3-1:1.4
	Release-5-3-1:1.4.0.44
	Release-5-2-3-1:1.4.0.42
	Root_Release-5-2-3-1:1.4
	Release-5-2-2-4:1.4.0.40
	Root_Release-5-2-2-4:1.4
	Release-5-2-2-1:1.4.0.38
	Root_Release-5-2-2-1:1.4
	upstream_version_5_2_2:1.4
	debian_version_5_2_2-1:1.4
	Release-5-2-2:1.4.0.36
	ROOT_Release-5-2-2:1.4
	ROOT_Release-5-2-1:1.4
	Release-5-2-1:1.4.0.34
	Release-5-2-0:1.4.0.32
	ROOT_Release-5-2-0:1.4
	ROOT_Release-5-1-2:1.4
	Release-5-1-2:1.4.0.30
	Version-5-1-1:1.4.0.28
	ROOT_Version-5-1-1:1.4
	debian_version_5_1_0-1:1.4
	upstream_version_5_1_0:1.4
	ROOT_Release-5-1-0:1.4
	Release-5-1-0:1.4.0.26
	ROOT_Release-5-0-0:1.4
	Release-5-0-0:1.4.0.24
	Release-4-3-3:1.4.0.22
	ROOT_Release-4-3-3:1.4
	upstream_version_4_3_2:1.4
	debian_version_4_3_2-1:1.4
	ROOT_Release-4-3-2:1.4
	Release-4-3-2:1.4.0.20
	Release-4-3-1:1.4.0.18
	ROOT_Release-4-3-1:1.4
	debian_version_4_3_0-1:1.4
	upstream_version_4_3_0:1.4
	ROOT_Release-4-3-0:1.4
	Release-4-3-0:1.4.0.16
	debian_version_3_2_1b-2:1.4
	debian_version_4_2_2-1:1.4
	upstream_version_4_2_2:1.4
	debian_version_3_2_1b-1:1.4
	upstream_version_3_2_1b:1.4
	Release-4-1-2:1.4.0.14
	Release-4-0-8:1.4.0.12
	debian_version_4_0_8a-1:1.4
	upstream_version_4_0_8a:1.4
	jostb-debian-ubuntu-patch:1.4.0.10
	debian_version_4_0_8-1:1.4
	upstream_version_4_0_8:1.4
	debian_version_4_0_7-1:1.4
	upstream_version_4_0_7:1.4
	debian_version_4_0_6-1:1.4
	upstream_version_4_0_6:1.4
	debian_version_4_0_2-1:1.4
	upstream_version_4_0_2:1.4
	Release-4-0-2_Root:1.4
	Release-4-0-2:1.4.0.8
	upstream_version_4_0_1:1.4
	debian_version_4_0_1-2:1.4
	Release-3-2-1:1.4.0.6
	Release-3-1-8:1.4.0.4
	Release-3-0-8_root:1.4
	Release-3-0-8_Root:1.4
	Release-3-0-8:1.4.0.2
	Release-2-0-8:1.3.0.6
	Release-2-0-7_Root:1.3
	Release-2-0-7:1.3.0.2
	Release-2-0-6-branch:1.2.0.2;
locks; strict;
comment	@# @;


1.5
date	2008.11.27.21.00.26;	author jost_boekemeier;	state Exp;
branches;
next	1.4;

1.4
date	2005.11.26.18.04.00;	author jost2345;	state Exp;
branches;
next	1.3;

1.3
date	2005.06.19.20.45.43;	author jost2345;	state Exp;
branches;
next	1.2;

1.2
date	2005.02.24.18.39.18;	author jost2345;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.20.22.06.45;	author jost2345;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Release 5.3.3.1
@
text
@#!/usr/bin/python

# PHP/Java Bridge test client written in python.
# Run this example with: python getProperties.py

import socket
import sys
import base64;

HOST = 'localhost'    # The host running the server part of the bridge
PORT = 9267           # The standard port of the bridge
s = None
for res in socket.getaddrinfo(HOST, PORT, 
socket.AF_UNSPEC, socket.SOCK_STREAM):
    af, socktype, proto, canonname, sa = res
    try:
	s = socket.socket(af, socktype, proto)
    except socket.error, msg:
	s = None
	continue
    try:
	s.connect(sa)
    except socket.error, msg:
	s.close()
	s = None
	continue
    break
if s is None:
    print 'Could not connect to socket.'
    print 'Please start the bridge, for example with java -jar JavaBridge.jar INET:9267 5 ""'
    sys.exit(1)

# ask for System.getProperties()
s.send('<C value="java.lang.System" p="Class"></C>')
data = s.recv(1024); # System: object=1
s.send('<I value="1" method="getProperties" p="Invoke"></I>');
data = s.recv(1024); # Properties: object=2
# create a map for the properties object ...
s.send('<I value="0" method="getPhpMap" p="Invoke"> <Object value="2"/> </I>')
data = s.recv(1024); # PhpMap: object=3
# ... to iterate over the values ...
s.send('<I value="3" method="hasMore" p="Invoke"></I>');
data = s.recv(1024); # yes
s.send('<I value="3" method="currentKey" p="Invoke"></I>');
key = s.recv(1024);  # string: key
# ... show only the first entry.
s.send('<I value="3" method="currentData" p="Invoke"></I>');
data = s.recv(1024); # the string object, #4
# received the string object, call bridge.castToString(ob#4) to see the string:
s.send('<I value="0" method="castToString" p="Invoke"><O value="4"/></I>');
data = s.recv(1024); # value
s.close()
# should have received the first entry from java.lang.System.getProperties()
data = str(data);
data = data.replace('<S v="', "");
data = data.replace('"/>', "");
data = base64.decodestring(data);
print 'Received:\n', `data`
@


1.4
log
@Version-3.0.0pre1
@
text
@d8 1
d34 1
a34 1
s.send('<C value="java.lang.System" p="Class" id="0"></C>')
d36 1
a36 1
s.send('<I value="1" method="getProperties" p="Invoke" id="0"></I>');
d39 1
a39 1
s.send('<I value="0" method="getPhpMap" p="Invoke" id="0"> <Object value="2"/> </I>')
d42 1
a42 1
s.send('<I value="3" method="hasMore" p="Invoke" id="0"></I>');
d44 1
a44 1
s.send('<I value="3" method="currentKey" p="Invoke" id="0"></I>');
d47 1
a47 1
s.send('<I value="3" method="currentData" p="Invoke" id="0"></I>');
d50 1
a50 1
s.send('<I value="0" method="castToString" p="Invoke" id="0"><O value="4"/></I>');
d54 4
@


1.3
log
@Release-2.0.7-pre
@
text
@d47 3
@


1.2
log
@Replaced Guile/SCHEME with Chicken/SCHEME example
@
text
@d10 1
a10 1
PORT = 9167           # The standard port of the bridge
d29 1
a29 1
    print 'Please start the bridge, for example with java -jar JavaBridge.jar INET:9167 5 ""'
@


1.1
log
@PYTHON and GUILE/Scheme clients added
@
text
@d10 1
a10 1
PORT = 9176           # The standard port of the bridge
d29 1
a29 1
    print 'Please start the bridge, for example with java -jar JavaBridge.jar 9176 5 ""'
@

