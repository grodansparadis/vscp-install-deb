head	1.9;
access;
symbols
	Release-3-0-8:1.8.0.2
	Release-2-0-8:1.4.0.8
	Release-2-0-7_Root:1.4
	Release-2-0-7:1.4.0.4
	Release-2-0-6-branch:1.4.0.2
	Version-1:1.3.0.6
	Version-2:1.3.0.4
	Release-2:1.3.0.2;
locks; strict;
comment	@# @;


1.9
date	2006.04.26.19.14.23;	author jost2345;	state dead;
branches;
next	1.8;

1.8
date	2006.03.21.18.11.16;	author jost2345;	state Exp;
branches
	1.8.2.1;
next	1.7;

1.7
date	2006.02.20.19.09.22;	author jost2345;	state Exp;
branches;
next	1.6;

1.6
date	2006.01.15.21.05.35;	author jost2345;	state Exp;
branches;
next	1.5;

1.5
date	2006.01.08.23.44.46;	author jost2345;	state Exp;
branches;
next	1.4;

1.4
date	2005.05.09.21.02.39;	author jost2345;	state Exp;
branches;
next	1.3;

1.3
date	2005.02.03.16.56.08;	author jost2345;	state Exp;
branches;
next	1.2;

1.2
date	2005.01.31.16.18.48;	author jost2345;	state Exp;
branches;
next	1.1;

1.1
date	2005.01.28.16.32.52;	author jost2345;	state Exp;
branches;
next	;

1.8.2.1
date	2006.04.23.19.26.41;	author jost2345;	state dead;
branches;
next	;


desc
@@


1.9
log
@*** empty log message ***
@
text
@This example uses RMI/IIOP to connect to an EJB server.  The
enterprise bean is a stateful session bean which accepts pages which
are added to the document during the session.  The document should be
created when the PHP session starts and destroyed when the PHP session
terminates.  See ../php+jsp/documentClient.php.


Installing the documentBean.jar
-------------------------------

It is assumed that you use the Sun J2EE application server and that
your server is already installed in some directory, for example in
~/SUNWappserver.  The environment variable app_server should point to
this directory.


1. Start your application server, for example with the command:

     $app_server/bin/asadmin start-domain domain1


2. Log into your application server, for example by visiting

     http://localhost:4848/asadmin

   and open

     Application Server -> Applications -> EJB Modules

   Click on "Deploy..."  and deploy documentBean.jar (a precompiled
   jar file can be found in the ../../unsupported folder).


3. Start the PHP/Java Bridge, if it is not already running.


4. Run documentClient.php, for example with the command:

     php documentClient.php 3 $app_server

   It should return "This document has 2 pages."



Notes: 

For IBM WebSphere set WAS_HOME, deploy under the JNDI name
"RMIdocument" and run the example with:
php documentClient.php 2 $WAS_HOME

For Oracle you need to deploy a .ear file, which can be created with
the command: "deploytool". Make sure to require the correct
documentBeanClient.jar which includes the stub classes, otherwise
you'll get a class cast exception in narrow.
@


1.8
log
@Release-3.0.8rc
@
text
@@


1.8.2.1
log
@Release-3-0-8-1
@
text
@@


1.7
log
@Release-3.0.7a
@
text
@d48 2
a49 1
"RMIdocument" and run the example with: php documentClient.php 2
@


1.6
log
@Release-3.0.6
@
text
@d5 1
a5 2
terminates.  See the functions "createDocument($url, $jndiname)" and
"destroyDocument($doc)" in globals.php.
d13 2
a14 1
~/SUNWappserver. 
d30 2
a31 1
   Click on  "Deploy..."  and deploy documentBean.jar.
d34 1
a34 3
3. Copy the documentBeanClient.jar from the (remote-) directory 
     
     $app_server/domains/domain1/applications/j2ee-modules/documentBean/
a35 1
   and the j2ee.jar from the (remote-) directory
d37 1
a37 1
     $app_server/lib
d39 1
a39 11
   into the current directory. 

   Examine globals.php and change $app_url if necessary.


4. Start the PHP/Java Bridge if it is not already running.


5. Run documentClient.php, for example with the command:

     php documentClient.php
d47 7
a53 10
For IBM WebSphere deploy under the JNDI name "RMIdocument", copy
$WAS_HOME/.../documentBean_jar.ear/documenBean.jar to ./documentBeanClient.jar,
require "$WAS_HOME/lib/;$here/documentBeanClient.jar" and change $app_url port#
from 3700 to 2809 and use "com.ibm.websphere.naming.WsnInitialContextFactory"
instead of "com.sun.jndi.cosnaming.CNCtxFactory".

For Oracle you need to create a .ear file, for example with the command:
"deploytool". Make sure to require the correct documentBeanClient.jar
which includes the stub classes, otherwise you'll get a class cast
exception.
@


1.5
log
@Release-3.0.5
@
text
@d62 2
a63 1
from 3700 to 2809.
@


1.4
log
@corrected sample
@
text
@d14 1
a14 2
~/SUNWappserver.  The environment variable $app_server should point to
this directory.
d54 14
@


1.3
log
@Release-1.0.8
@
text
@d34 1
a34 1
3. Copy the documentClient.jar from the (remote-) directory 
@


1.2
log
@Release-1.0.8
@
text
@d34 1
a34 4
3. This step is only necessary if you run the app_server on a
   different machine.  

   Copy the documentClient.jar from the directory 
d38 1
a38 1
   and the j2ee.jar from the directory
@


1.1
log
@Release-1.0.8
@
text
@d41 4
d47 1
a47 1
   Examine globals.php and change $app_server and $app_url if necessary.
a57 5




   @

