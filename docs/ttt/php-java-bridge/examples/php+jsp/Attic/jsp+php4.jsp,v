head	1.5;
access;
symbols
	Release-6-1-2-3:1.4
	Root_Release-6-1-2-3:1.4
	Release-6-1-2-2:1.4.0.10
	Root_Release-6-1-2-2:1.4
	debian_version_6_1_2_1-1:1.4
	upstream_version_6_1_2_1:1.4
	Release-6-1-2-1_new:1.4.0.8
	Root_Release-6-1-2-1_new:1.4
	Release-6-1-2-1:1.4.0.6
	Root_Release-6-1-2-1:1.4
	upstream_version_6_1_2:1.4
	debian_version_6_1_2-1:1.4
	Release-6-1-2:1.4.0.4
	Root_Release-6-1-2:1.4
	debian_version_6_1_1-2:1.4
	debian_version_6_1_1-1:1.4
	upstream_version_6_1_1:1.4
	Release-6-1-1:1.4.0.2
	Root_Release-6-1-1:1.4
	Release-6-0-4:1.3.0.22
	Root_Release-6-0-4:1.3
	Release-6-0-3_NEW:1.3.0.18
	Root_Release-6-0-3_NEW:1.3
	Release-6-0-3:1.3.0.20
	Root_Release-6-0-3:1.3
	Release-6-0-0:1.3.0.16
	Root_Release-6-0-0:1.3
	Release-5-5-4-1:1.3.0.14
	Root_Release-5-5-4-1:1.3
	Release-5-5-4:1.3.0.12
	Root_Release-5-5-4:1.3
	Release-5-5-3:1.3.0.10
	ROOT_Release-5-5-3:1.3
	Release-5-5-2:1.3.0.8
	Root_Release-5-5-2:1.3
	debian_version_5_5_1-1:1.3
	Release-5-5-1:1.3.0.4
	upstream_version_5_5_1:1.3
	ROOT_Release-5-5-1:1.3
	debian_version_5_5-1:1.3
	upstream_version_5_5:1.3
	ROOT_Release-5-5:1.3
	Release-5-5:1.3.0.6
	debian_version_5_4_4_2-3:1.3
	Release-5-4-4-2-1:1.3.0.2
	debian_version_5_4_4_2-2:1.3
	debian_version_5_4_4_2-1:1.3
	upstream_version_5_4_4_2:1.3
	debian_version_5_4_4_1-1:1.1
	upstream_version_5_4_4_1:1.1;
locks; strict;
comment	@# @;


1.5
date	2010.07.04.11.00.06;	author jost_boekemeier;	state dead;
branches;
next	1.4;

1.4
date	2010.03.24.18.03.15;	author jost_boekemeier;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.19.17.24.30;	author jost_boekemeier;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.12.12.10.23;	author jost_boekemeier;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.15.15.33.21;	author jost_boekemeier;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Release-6-2-1
@
text
@<%@@page import="java.io.*" %>
<%@@page import="java.net.*" %>
<%@@page import="javax.script.*" %>
<%@@page import="php.java.script.servlet.EngineFactory" %>
<%

/** 
 * This example demonstrates how to connect Java with a remote PHP application.
 * There must not be a firewall in between, both components should be behind a firewall.
 */

URI remotePhpApp = new URI(request.getScheme(), null, "127.0.0.1", request.getLocalPort(), "/JavaBridge/java/JavaProxy.php", null, null);
ScriptEngine e = 
  EngineFactory.getInvocablePhpScriptEngine (this,
                               application, request, response, remotePhpApp);
try {
  Object result = ((Invocable)e).invokeFunction("phpversion", new Object[]{});
  out.println ("PHP application called \"JavaBridge/java/JavaProxy.php\" responds to phpversion(): " + result);

} catch (Exception ex) {
 out.println("Could not evaluate script: "+ex);
} finally { // make sure to close() the file
 e.eval ((Reader)null); // in JDK 1.5 and above use ((Closeable)e).close() instead
}
%>
@


1.4
log
@Release-6-1-1
@
text
@@


1.3
log
@Release-5-4-4-2
@
text
@d12 1
a12 1
URI remotePhpApp = new URI("http://127.0.0.1:"+request.getLocalPort()+"/JavaBridge/java/JavaProxy.php");
@


1.2
log
@Release-5-4-4-2
@
text
@d6 1
d9 1
a9 3
 * There must not be a firewall in between, the PHP option 
 * "allow_url_include" and the Java <code>WEB-INF/web.xml</code> "promiscuous" 
 * option must be enabled. Both components should be behind a firewall.
@


1.1
log
@*** empty log message ***
@
text
@d8 1
a8 2
 * There must not be a firewall in between, the servlet thread pool must not be 
 * limited or twice the size of the PHP container's pool size, the PHP option 
d13 1
a13 1
URI remotePhpApp = new URI("http://127.0.0.1:80/JavaBridge/java/JavaProxy.php");
d22 1
a22 1
 out.println("Could not evaluate script on port 80: "+ex);
@

