head	1.8;
access;
symbols
	debian_version_5_3_2_1_1-1:1.7
	debian_version_5_3_2_1_1:1.7
	upstream_version_5_3_2_1_1:1.7
	Root_Release-5-3-2-1:1.7
	Release-5-3-2-1:1.7
	ROOT_RELEASE-5-3-2-1:1.7
	RELEASE-5-3-2-1:1.7.0.44
	Release-5-3-2:1.7.0.40
	Root_Release-5-3-2:1.7
	Root_Release-5-3-1:1.7
	Release-5-3-1:1.7.0.38
	Release-5-2-3-1:1.7.0.36
	Root_Release-5-2-3-1:1.7
	Release-5-2-2-4:1.7.0.34
	Root_Release-5-2-2-4:1.7
	Release-5-2-2-1:1.7.0.32
	Root_Release-5-2-2-1:1.7
	upstream_version_5_2_2:1.7
	debian_version_5_2_2-1:1.7
	Release-5-2-2:1.7.0.30
	ROOT_Release-5-2-2:1.7
	ROOT_Release-5-2-1:1.7
	Release-5-2-1:1.7.0.28
	Release-5-2-0:1.7.0.26
	ROOT_Release-5-2-0:1.7
	ROOT_Release-5-1-2:1.7
	Release-5-1-2:1.7.0.24
	Version-5-1-1:1.7.0.22
	ROOT_Version-5-1-1:1.7
	debian_version_5_1_0-1:1.7
	upstream_version_5_1_0:1.7
	ROOT_Release-5-1-0:1.7
	Release-5-1-0:1.7.0.20
	ROOT_Release-5-0-0:1.7
	Release-5-0-0:1.7.0.18
	Release-4-3-3:1.7.0.16
	ROOT_Release-4-3-3:1.7
	upstream_version_4_3_2:1.7
	debian_version_4_3_2-1:1.7
	ROOT_Release-4-3-2:1.7
	Release-4-3-2:1.7.0.14
	Release-4-3-1:1.7.0.12
	ROOT_Release-4-3-1:1.7
	debian_version_4_3_0-1:1.7
	upstream_version_4_3_0:1.7
	ROOT_Release-4-3-0:1.7
	Release-4-3-0:1.7.0.10
	debian_version_3_2_1b-2:1.6
	debian_version_4_2_2-1:1.7
	upstream_version_4_2_2:1.7
	debian_version_3_2_1b-1:1.6
	upstream_version_3_2_1b:1.6
	Release-4-1-2:1.7.0.8
	Release-4-0-8:1.7.0.6
	debian_version_4_0_8a-1:1.7
	upstream_version_4_0_8a:1.7
	jostb-debian-ubuntu-patch:1.7.0.4
	debian_version_4_0_8-1:1.7
	upstream_version_4_0_8:1.7
	debian_version_4_0_7-1:1.7
	upstream_version_4_0_7:1.7
	debian_version_4_0_6-1:1.7
	upstream_version_4_0_6:1.7
	debian_version_4_0_2-1:1.7
	upstream_version_4_0_2:1.7
	Release-4-0-2_Root:1.7
	Release-4-0-2:1.7.0.2
	upstream_version_4_0_1:1.7
	debian_version_4_0_1-2:1.7
	Release-3-2-1:1.6.0.4
	Release-3-1-8:1.6.0.2
	Release-3-0-8_root:1.4
	Release-3-0-8_Root:1.4
	Release-3-0-8:1.4.0.2;
locks; strict;
comment	@# @;


1.8
date	2008.10.12.17.11.51;	author jost_boekemeier;	state dead;
branches;
next	1.7;

1.7
date	2007.03.09.20.28.10;	author andremachado;	state Exp;
branches;
next	1.6;

1.6
date	2006.08.27.14.40.11;	author jost2345;	state Exp;
branches;
next	1.5;

1.5
date	2006.08.21.17.41.52;	author jost2345;	state Exp;
branches;
next	1.4;

1.4
date	2006.02.18.15.42.49;	author jost2345;	state Exp;
branches;
next	1.3;

1.3
date	2006.02.05.18.47.00;	author jost2345;	state Exp;
branches;
next	1.2;

1.2
date	2005.12.08.18.41.59;	author jost2345;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.23.19.19.37;	author jost2345;	state Exp;
branches;
next	;


desc
@@


1.8
log
@*** empty log message ***
@
text
@<?php

/**
 * Fetch Java from the back end
 */
$pwd=dirname($_SERVER["PHP_SELF"]);
require_once("http://127.0.0.1:$_SERVER[SERVER_PORT]$pwd/java/Java.inc");

/**
 * This class keeps the state of our simple application.  The
 * framework will save/restore the state if necessary.
 */
class helloWorld {
  /* the state variable(s) */

  var $name="myName";


  /* standard getter and setter for all state variables */

  function getValue($idx) {
    $prop = java_values($idx);
    return $this->$prop;
  }

  function setValue($idx, $val) {
    $prop = java_values($idx);
    $this->$prop = $val;
  }


  /* User functions */

  /* see h:commandButton #1 in the UI */
  function send() {
    return "success";
  }

  /* see validator of h:inputTest #1 in the UI */
  function xvalidate($ctx, $arg, $value) {
    // this message goes to the server log
    echo "helloWorld.php:: validate: $value";

    if($value->equals("myName")) {
      // this message goes to the server log
      echo "helloWorld.php:: throws validate exception.";

      $message = new Java("javax.faces.application.FacesMessage", $value->__toString()." invalid, enter yourname");
      throw 
	new JavaException("javax.faces.validator.ValidatorException", $message);
    }
  }
}

/* 
 * check if we're called from the framework, redirect to index.php if
 * not
 */
java_context()->call(java_closure(new helloWorld())) ||include("index.php");

// this message goes to the server log
echo "helloWorld.php:: script terminated";

?>
@


1.7
log
@Files update 3.2.2 to 4.0.1. Extracted from the src.tar.gz downloaded from sf.net, uploaded by Jost Boekemeier. Update to repository by Andre Felipe Machado.
@
text
@@


1.6
log
@Release-3-1-8rc
@
text
@d3 5
a7 9
function check($name) {
  $len = strlen($name);
  return strncasecmp(php_uname(), $name, $len) == 0;
}
function appendIncludeDir($dir) {
  $append = check("windows")?";$dir":":$dir";
  ini_set("include_path", ini_get("include_path").$append);
}
appendIncludeDir(".."); require_once("java/Java.php");
@


1.5
log
@Release-3-1-8devel1
@
text
@d3 9
a11 1
require_once("java/Java.php");
@


1.4
log
@Release-3.0.7a
@
text
@d3 2
d17 2
a18 1
  function getValue($prop) {
d22 2
a23 1
  function setValue($prop, $val) {
d44 1
a44 1
      $message = new Java("javax.faces.application.FacesMessage", "$value invalid, enter yourname");
@


1.3
log
@Release-3.0.7
@
text
@a2 7
if (!extension_loaded('java')) {
  if (!(PHP_SHLIB_SUFFIX=="so" && dl('java.so'))&&!(PHP_SHLIB_SUFFIX=="dll" && dl('php_java.dll'))) {
    echo "java extension not installed.";
    exit(2);
  }
}

@


1.2
log
@Release-3-0-2
@
text
@d10 6
a16 1
class helloWorld {
d19 3
d30 4
d38 1
d40 3
a42 1
    echo "validate: $value";
d44 3
a46 1
      echo "throw exception.";
d54 4
a57 1
// call() returns true if the php file was called from java.
d59 4
@


1.1
log
@Version-3.0.0pre
@
text
@d2 9
@

