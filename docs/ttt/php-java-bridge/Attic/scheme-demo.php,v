head	1.4;
access;
symbols
	PHP-5:1.3.0.4
	Release-1-0-6:1.3.0.6
	sparc-64-test:1.2.0.2;
locks; strict;
comment	@# @;


1.4
date	2005.01.28.16.32.52;	author jost2345;	state dead;
branches;
next	1.3;

1.3
date	2004.10.24.10.58.47;	author jost2345;	state Exp;
branches;
next	1.2;

1.2
date	2004.10.07.11.19.46;	author jost2345;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2004.10.06.16.39.19;	author jost2345;	state Exp;
branches;
next	;

1.2.2.1
date	2004.10.09.22.22.00;	author jost2345;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Release-1.0.8
@
text
@<?php
if (!extension_loaded('java')) {
  echo "Please permanently activate the extension. Loading java extension now...\n";
  if (!dl('java.so')&&!dl('java.dll')) {
    echo "java extension not installed.";
    exit;
  }
}

$system = new java("java.lang.System");
$t1=$system->currentTimeMillis();
java_set_library_path("http://php-java-bridge.sourceforge.net/kawa.jar"); //load scheme interpreter
$s = new java("kawa.standard.Scheme");
for($i=0; $i<100; $i++) {
  $res=$s->eval("

(letrec
 ((f (lambda(v)
       (if 
	   (= v 0)
	   1
	 (*
	  (f
	   (- v 1))
	  v)))))
 (f $i))

");

  if($ex=java_last_exception_get()) $res=$ex->toString();
  echo "fact($i) ==> $res\n";
}
$t2=$system->currentTimeMillis();
$delta=($t2-$t1)/1000.0;
$now=new java("java.sql.Timestamp",$system->currentTimeMillis());
echo  "Evaluation took $delta s -- at: ".$now->toString() . "\n";
?>
@


1.3
log
@Load libraries from /usr/share/java or from ext_dir/lib
@
text
@@


1.2
log
@gcc2
@
text
@d12 1
a12 1
java_set_jar_library_path("http://php-java-bridge.sourceforge.net/kawa.jar"); //load scheme interpreter
@


1.2.2.1
log
@nmemb may be 0
@
text
@d12 1
a12 1
java_set_jar_library_path("http://www.pagesmiths.com/kawa/kawa-20021212.jar"); //load scheme interpreter
@


1.1
log
@new file
@
text
@d3 1
a3 1
  echo "Please permanently activate the extension. Loading java extension now... ";
@

