head	1.2;
access;
symbols
	Release-7-1-1:1.2.0.38
	Root_Release-7-1-1:1.2
	Root_Release_7-0-1:1.2
	Release_7-0-1:1.2.0.36
	Release_7-0-0:1.2.0.34
	Root_Release_7-0-0:1.2
	Release-6-2-2:1.2.0.32
	Release-6-1-2-3:1.2
	Root_Release-6-1-2-3:1.2
	Release-6-1-2-2:1.2.0.30
	Root_Release-6-1-2-2:1.2
	debian_version_6_1_2_1-1:1.2
	upstream_version_6_1_2_1:1.2
	Release-6-1-2-1_new:1.2.0.28
	Root_Release-6-1-2-1_new:1.2
	Release-6-1-2-1:1.2.0.26
	Root_Release-6-1-2-1:1.2
	upstream_version_6_1_2:1.2
	debian_version_6_1_2-1:1.2
	Release-6-1-2:1.2.0.24
	Root_Release-6-1-2:1.2
	debian_version_6_1_1-2:1.2
	debian_version_6_1_1-1:1.2
	upstream_version_6_1_1:1.2
	Release-6-1-1:1.2.0.22
	Root_Release-6-1-1:1.2
	Release-6-0-4:1.2.0.20
	Root_Release-6-0-4:1.2
	Release-6-0-3_NEW:1.2.0.16
	Root_Release-6-0-3_NEW:1.2
	Release-6-0-3:1.2.0.18
	Root_Release-6-0-3:1.2
	Release-6-0-0:1.2.0.14
	Root_Release-6-0-0:1.2
	Release-5-5-4-1:1.2.0.12
	Root_Release-5-5-4-1:1.2
	Release-5-5-4:1.2.0.10
	Root_Release-5-5-4:1.2
	Release-5-5-3:1.2.0.8
	ROOT_Release-5-5-3:1.2
	Release-5-5-2:1.2.0.6
	Root_Release-5-5-2:1.2
	debian_version_5_5_1-1:1.2
	Release-5-5-1:1.2.0.2
	upstream_version_5_5_1:1.2
	ROOT_Release-5-5-1:1.2
	debian_version_5_5-1:1.2
	upstream_version_5_5:1.2
	ROOT_Release-5-5:1.2
	Release-5-5:1.2.0.4
	debian_version_5_4_4_2-3:1.2
	Release-5-4-4-2-1:1.1.0.2
	debian_version_5_4_4_2-2:1.1
	upstream_version_5_4_4_2:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.07.16.20.32.38;	author andremachado;	state Exp;
branches;
next	1.1;

1.1
date	2009.04.30.15.38.05;	author andremachado;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Strict format needed to allow Tomcat start. Cross platform configuration. Webapp logging configuration.
@
text
@// Copyright (C) 2009  Andre Felipe Machado <andremachado@@techforce.com.br>
// and php-java-bridge project http://php-java-bridge.sourceforge.net

// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.


// This php-java-bridge security is too permissive and suitable for development tests only.
// For production environment a more strict security is needed.
// This file was tested at placement:
// /etc/tomcat5.5/policy.d/60JavaBridge.policy
// Please, contribute your security configuration to the php-java-bridge project.
// As of php-java-bridge 5.4.4.2, the Java engine security is not actually enough for
// blocking malicious code from php. The real solution should be using 
// Security Enhanced Linux policies.

grant codeBase "file:${catalina.base}${file.separator}webapps${file.separator}JavaBridge${file.separator}-" { permission java.security.AllPermission; };


// This logging configuration was taken from the Tomcat own configuration files.
// To enable per context logging configuration, permit read access to the appropriate file.
// Be sure that the logging configuration is secure before enabling such access
// eg for the JavaBridge web application:
grant codeBase "file:${catalina.home}/bin/tomcat-juli.jar" {
permission java.io.FilePermission "${catalina.base}${file.separator}webapps${file.separator}JavaBridge${file.separator}WEB-INF${file.separator}classes${file.separator}logging.properties", "read";
};


// For development only, you may even comment out the following configuration:

grant {
  permission java.io.FilePermission "${user.home}${/}-", "read,write,delete";
  permission java.io.FilePermission "${java.io.tmpdir}${/}-", "read,write,delete";
  permission java.io.FilePermission "${java.home}${/}-", "read";
  permission java.util.PropertyPermission "*", "read";
  permission java.lang.RuntimePermission "getClassLoader";
  permission java.lang.RuntimePermission "accessClassInPackage.sun.tools.*";
};

@


1.1
log
@tomcat 5.5 security config needed by Debian 5.0 . not tested with tomcat 6.x yet. Should be placed at /etc/tomcat5.5/policy.d/ directory for Tomcat 5.5.
@
text
@d1 2
a2 2
# Copyright (C) 2009  Andre Felipe Machado <andremachado@@techforce.com.br>
# and php-java-bridge project http://php-java-bridge.sourceforge.net
d4 12
a15 12
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
d27 11
a37 1
grant codeBase "file:${catalina.base}/webapps/JavaBridge/-" { permission java.security.AllPermission; };
@

