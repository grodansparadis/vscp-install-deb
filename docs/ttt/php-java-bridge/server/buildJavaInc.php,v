head	1.4;
access;
symbols
	Release-7-1-1:1.4.0.18
	Root_Release-7-1-1:1.4
	Root_Release_7-0-1:1.4
	Release_7-0-1:1.4.0.16
	Release_7-0-0:1.4.0.14
	Root_Release_7-0-0:1.4
	Release-6-2-2:1.4.0.12
	Release-6-1-2-3:1.4
	Root_Release-6-1-2-3:1.4
	Release-6-1-2-2:1.4.0.10
	Root_Release-6-1-2-2:1.4
	debian_version_6_1_2_1-1:1.4
	upstream_version_6_1_2_1:1.4
	Release-6-1-2-1_new:1.4.0.8
	Root_Release-6-1-2-1_new:1.4
	Release-6-1-2-1:1.4.0.6
	Root_Release-6-1-2-1:1.4
	upstream_version_6_1_2:1.4
	debian_version_6_1_2-1:1.4
	Release-6-1-2:1.4.0.4
	Root_Release-6-1-2:1.4
	debian_version_6_1_1-2:1.4
	debian_version_6_1_1-1:1.4
	upstream_version_6_1_1:1.4
	Release-6-1-1:1.4.0.2
	Root_Release-6-1-1:1.4
	Release-6-0-4:1.3.0.6
	Root_Release-6-0-4:1.3
	Release-6-0-3_NEW:1.3.0.4
	Root_Release-6-0-3_NEW:1.3
	Root_Release-6-0-0:1.3
	Release-6-0-3:1.3.0.2
	Root_Release-6-0-3:1.3;
locks; strict;
comment	@# @;


1.4
date	2010.03.24.18.03.16;	author jost_boekemeier;	state Exp;
branches;
next	1.3;

1.3
date	2010.02.28.20.02.24;	author jost_boekemeier;	state Exp;
branches;
next	1.2;

1.2
date	2010.02.28.18.15.52;	author jost_boekemeier;	state Exp;
branches;
next	1.1;

1.1
date	2010.02.28.15.20.43;	author jost_boekemeier;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Release-6-1-1
@
text
@<?php

$s = "";
array_shift($argv);
$outfile = array_shift($argv);
foreach($argv as $file) $s.= preg_replace('/\r/', '', file_get_contents($file));

$s = preg_replace('/^.*JAVA_DEBUG.*$/m', '', $s);
$s = preg_replace('/^.*!java_defined.*$/m', '', $s);
$s = preg_replace('/^<\?.*$/m', '', $s);
$s = preg_replace('/\?>.*$/m', '', $s);
$s = preg_replace('!/\*([^/]|([^*]/))*\*/!s', '', $s);
$s = preg_replace('|[	 ]+|', ' ', $s);
$s = preg_replace('/^ *require_once.*$/m', '', $s);
$s = preg_replace('|^ |m', '', $s);
$s = preg_replace('| $|m', '', $s);
$s = preg_replace('|([;{:]) //.*$|m', '$1', $s);
$s = preg_replace('|; *//.*$|m', ';', $s);
$s = preg_replace('|^//.*$|m', '', $s);
$s = preg_replace('|^ *$\n|m', '', $s);
$s = preg_replace('/ *= */', '=', $s);
$s = preg_replace('/, /', ',', $s);
//$s = preg_replace('/\n}/', '}', $s);

$version = trim(file_get_contents("../VERSION"));
$s = preg_replace('/define[ ]*\("JAVA_PEAR_VERSION","[0-9.]+"\);/', 'define("JAVA_PEAR_VERSION","'.$version.'");', $s);

$s = preg_replace("/^.*do not delete this line.*$/m", '', $s);

$str = <<<EOF
<?php
# Java.inc -- The PHP/Java Bridge PHP library. Compiled from JavaBridge.inc.
# Copyright (C) 2003-2009 Jost Boekemeier.
# Distributed under the MIT license, see Options.inc for details.
# Customization examples:
# define ("JAVA_HOSTS", 9267); define ("JAVA_SERVLET", false);
# define ("JAVA_HOSTS", "127.0.0.1:8787");
# define ("JAVA_HOSTS", "ssl://my-secure-host.com:8443");
# define ("JAVA_SERVLET", "/MyWebApp/servlet.phpjavabridge");
# define ("JAVA_PREFER_VALUES", 1);


EOF;

$str .= "${s}}\n?>\n";
$str = preg_replace('|\r|', '', $str);

file_put_contents($outfile, $str);

?>
@


1.3
log
@Release-6-0-3
@
text
@d38 2
a39 1
# define ("JAVA_SERVLET", "/MyWebApp/JavaBridge.phpjavabridge");
@


1.2
log
@Release-6-0-3
@
text
@d6 1
a6 1
foreach($argv as $file) $s.= file_get_contents($file);
@


1.1
log
@Release-6-0-3
@
text
@d45 1
@

